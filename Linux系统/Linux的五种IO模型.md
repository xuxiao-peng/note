# 分类

1. **阻塞IO模型**

2. **非阻塞IO模型**
3. **IO复用模型**
4. **信号驱动IO模型**
5. **异步IO模型**

# 阻塞IO模型

**recvfrom 函数：**

recvfrom 函数(经 Socket 接收数据)，这里把它视为系统调用。



![img](C:\Users\P\Desktop\笔记本\img\linux\阻塞IO示意图.jpg)

在阻塞式 I/O 模型中，应用程序在从调用 recvfrom 开始到它返回有数据报准备好这段时间是阻塞的，

recvfrom 返回成功后，应用进程开始处理数据报。

**比喻：**一个人在钓鱼，当没鱼上钩时，就坐在岸边一直等。

**优点：**程序简单，在阻塞等待数据期间进程/线程挂起，基本不会占用 CPU 资源。

**缺点：**每个连接需要独立的进程/线程单独处理，当并发请求量大时为了维护程序，内存、线程切换开销较大，这种模型在实际生产中很少使用。

# 非阻塞IO模型

![img](C:\Users\P\Desktop\笔记本\img\linux\非阻塞IO模型.jpg)

**优点：**不会阻塞在内核的等待数据过程，每次发起的 I/O 请求可以立即返回，不用阻塞等待，实时性较好。

**缺点：**轮询将会不断地询问内核，这将占用大量的 CPU 时间，系统资源利用率较低，所以一般 Web 服务器不使用这种 I/O 模型。

# IO复用模型

![img](C:\Users\P\Desktop\笔记本\img\linux\IO复用模型.jpg)

IO多路转接是多了一个`select`函数，多个进程的IO可以注册到同一个`select`上

**优点：**这就是IO复用模型。多个进程的IO可以注册到同一个管道上，这个管道会统一和内核进行交互。

# 异步 I/O 模型（即AIO，全称asynchronous I/O）

![img](C:\Users\P\Desktop\笔记本\img\linux\异步IO模型.jpg)

**优点：**异步 I/O 能够充分利用 DMA 特性，让 I/O 操作与计算重叠。 

**缺点：**要实现真正的异步 I/O，操作系统需要做大量的工作。目前 Windows 下通过 IOCP 实现了真正的异步 I/O。

# 总结：

![img](C:\Users\P\Desktop\笔记本\img\linux\几种IO模型总结.jpg)